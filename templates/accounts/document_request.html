{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document Request - LabangOnline</title>

    <link rel="stylesheet" href="{% static 'css/app.css' %}" />
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}" />
    <link rel="icon" href="{% static 'logo.png' %}" type="image/png" />
    <style>
      /* Fix scrolling issues */
      html, body {
        overflow: hidden;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      .dashboard-wrapper {
        height: 100vh;
        overflow: hidden;
        display: flex;
      }

      .main-content {
        flex: 1;
        overflow-y: auto;
        overflow-x: hidden;
        height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* User profile styling */
      .user-profile img {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #10b981;
        box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
      }

      /* Document Request Page Styling */
      .request-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 24px;
        padding-bottom: 60px;
      }

      .page-header {
        margin-bottom: 32px;
      }

      .page-header h1 {
        font-size: 32px !important;
        font-weight: 600;
        color: #e5e7eb;
        margin: 0 !important;
        line-height: 1.2 !important;
      }

      /* Light mode - make heading stand out more */
      .light .page-header h1 {
        color: #111827 !important;
        
      }

      .page-header p {
        color: #9ca3af;
        font-size: 15px;
      }

      /* Light mode - better contrast for description */
      .light .page-header p {
        color: #374151 !important;
      }

      /* View Records Button */
      .view-records-btn {
        display: inline-flex;
        align-items: center;
        padding: 12px 24px;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        text-decoration: none;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        border: 1px solid rgba(16, 185, 129, 0.5);
      }

      .view-records-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
        background: linear-gradient(135deg, #059669 0%, #047857 100%);
      }

      .view-records-btn svg {
        flex-shrink: 0;
      }

      /* Certificate Cards Grid */
      .certificates-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 24px;
        margin-bottom: 32px;
      }

      .certificate-card {
        background: var(--card-bg, linear-gradient(135deg, #1e293b 0%, #0f172a 100%));
        border: 1px solid rgba(16, 185, 129, 0.2);
        border-radius: 16px;
        padding: 24px;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      /* Light mode card background */
      .light .certificate-card {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border: 1px solid rgba(16, 185, 129, 0.3);
      }

      .certificate-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #10b981 0%, #059669 100%);
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .certificate-card:hover {
        transform: translateY(-4px);
        border-color: rgba(16, 185, 129, 0.5);
        box-shadow: 0 8px 24px rgba(16, 185, 129, 0.2);
      }

      .certificate-card:hover::before {
        transform: scaleX(1);
      }

      .card-icon {
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(16, 185, 129, 0.1) 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 16px;
        transition: all 0.3s ease;
      }

      .light .card-icon {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.1) 100%);
      }

      .certificate-card:hover .card-icon {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.3) 0%, rgba(16, 185, 129, 0.2) 100%);
        transform: scale(1.1);
      }

      .card-icon img {
        width: 32px;
        height: 32px;
        filter: brightness(0) saturate(100%) invert(70%) sepia(48%) saturate(494%) hue-rotate(100deg) brightness(96%) contrast(89%);
      }

      .card-title {
        font-size: 18px;
        font-weight: 600;
        color: #e5e7eb;
        margin-bottom: 8px;
      }

      /* Light mode - card titles need strong contrast */
      .light .card-title {
        color: #111827 !important;
        font-weight: 700;
      }

      .card-description {
        font-size: 14px;
        color: #9ca3af;
        line-height: 1.5;
        margin-bottom: 16px;
      }

      /* Light mode - card descriptions */
      .light .card-description {
        color: #475569 !important;
      }

      .card-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 16px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
      }

      .card-price {
        font-size: 16px;
        font-weight: 600;
        color: #10b981;
      }

      .card-arrow {
        width: 24px;
        height: 24px;
        background: rgba(16, 185, 129, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .certificate-card:hover .card-arrow {
        background: rgba(16, 185, 129, 0.2);
        transform: translateX(4px);
      }

      /* Requirements Section */
      .requirements-section {
        background: var(--card-bg, linear-gradient(135deg, #1e293b 0%, #0f172a 100%));
        border: 1px solid rgba(16, 185, 129, 0.2);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 40px;
      }

      .light .requirements-section {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border: 1px solid rgba(16, 185, 129, 0.3);
      }

      .requirements-section h2 {
        font-size: 20px;
        font-weight: 600;
        color: #e5e7eb;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      /* Light mode - Requirements heading */
      .light .requirements-section h2 {
        color: #111827 !important;
        font-weight: 700;
      }

      .requirements-section h2::before {
        content: '';
        width: 4px;
        height: 24px;
        background: linear-gradient(180deg, #10b981 0%, #059669 100%);
        border-radius: 2px;
      }

      .requirements-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .requirements-list li {
        padding: 12px 0;
        color: #cbd5e1;
        font-size: 14px;
        display: flex;
        align-items: start;
        gap: 12px;
      }

      /* Light mode - Requirements list items */
      .light .requirements-list li {
        color: #374151 !important;
      }

      .requirements-list li::before {
        content: 'âœ“';
        color: #10b981;
        font-weight: 600;
        font-size: 16px;
        flex-shrink: 0;
      }

      .requirements-list li:not(:last-child) {
        border-bottom: 1px solid rgba(148, 163, 184, 0.1);
      }

      /* Info Banner */
      .info-banner {
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(37, 99, 235, 0.1) 100%);
        border: 1px solid rgba(59, 130, 246, 0.3);
        border-radius: 12px;
        padding: 16px 20px;
        display: flex;
        align-items: start;
        gap: 16px;
        margin-bottom: 24px;
      }

      .info-banner-icon {
        width: 24px;
        height: 24px;
        color: #3b82f6;
        flex-shrink: 0;
      }

      .info-banner-content p {
        margin: 0;
        color: var(--text-secondary, #cbd5e1);
        font-size: 14px;
        line-height: 1.6;
      }

      .info-banner-content strong {
        color: var(--text-primary, #e5e7eb);
      }

      .light .info-banner-content p {
        color: #64748b;
      }

      .light .info-banner-content strong {
        color: #1e293b;
      }
    </style>
  </head>
  <body>
    <div class="dashboard-wrapper">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="logo">
          <img src="{% static 'logo.png' %}" alt="Labang Logo" />
          <span>LabangOnline</span>
        </div>

        <div class="notification-item">
          <div class="notification-icon-wrapper">
            <img src="{% static 'icons/notification.png' %}" alt="Notification" />
            <span class="notification-badge">5</span>
          </div>
          <span>Notification</span>
        </div>

        <ul class="menu">
          <li class="menu-item" onclick="window.location.href='{% url 'accounts:personal_info' %}'">
            <img src="{% static 'icons/user-info.png' %}" alt="" />
            <span>Personal Info</span>
          </li>
          <li class="menu-item active">
            <img src="{% static 'icons/request-records.png' %}" alt="" />
            <span>Document Request</span>
          </li>
          <li class="menu-item">
            <img src="{% static 'icons/resident-record.png' %}" alt="" />
            <span>Resident Records</span>
          </li>
          <li class="menu-item">
            <img src="{% static 'icons/incident-report.png' %}" alt="" />
            <span>Report Records</span>
          </li>
          <li class="menu-item">
            <img src="{% static 'icons/file-report.png' %}" alt="" />
            <span>File Report</span>
          </li>
        </ul>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Top bar -->
        <header class="topbar">
          <span></span>
          <button id="mode-toggle" class="btn">Toggle</button>
          <div class="user-profile">
            {% if profile_pic_base64 %}
              <img src="data:image/jpeg;base64,{{ profile_pic_base64 }}" alt="User Profile" />
            {% else %}
              <img src="{% static 'icons/default_user.png' %}" alt="User Profile" />
            {% endif %}
            <span>{{ request.user.full_name }}</span>
            <form method="get" action="{% url 'accounts:logout_confirm' %}">
              <button type="submit" class="btn-logout">LOGOUT</button>
            </form>
          </div>
        </header>

        <div class="request-container">
          <!-- Page Header -->
          <div class="page-header">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; flex-wrap: wrap; gap: 16px;">
              <h1 style="margin: 0; flex-shrink: 0;">Request Certificate</h1>
              <a href="{% url 'accounts:certificate_requests' %}" class="view-records-btn">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 8px;">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                View Request Records
              </a>
            </div>
            <p style="margin: 0;">Select the type of certificate you need and we'll guide you through the process</p>
          </div>

          <!-- Info Banner -->
          <div class="info-banner">
            <svg class="info-banner-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div class="info-banner-content">
              <p><strong>Important:</strong> Make sure your profile information is complete and accurate before requesting certificates. Processing time is typically 3-5 business days.</p>
            </div>
          </div>

          <!-- Certificates Grid -->
          <div class="certificates-grid">
            <!-- Barangay Clearance -->
            <div class="certificate-card" onclick="window.location.href='{% url 'accounts:barangay_clearance_request' %}'">

              <div class="card-icon">
                <img src="{% static 'icons/file-report.png' %}" alt="Certificate" />
              </div>
              <h3 class="card-title">Barangay Clearance</h3>
              <p class="card-description">
                Required for employment, business permits, and other legal purposes within the barangay.
              </p>
              <div class="card-footer">
                <span class="card-price">â‚±50.00</span>
                <div class="card-arrow">
                  <svg width="16" height="16" fill="none" stroke="#10b981" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>

            
            <!-- Certificate of Residency -->
            <div class="certificate-card" onclick="window.location.href='{% url 'accounts:brgy_residency_cert' %}'">
              <div class="card-icon">
                <img src="{% static 'icons/resident-record.png' %}" alt="Certificate" />
              </div>
              <h3 class="card-title">Certificate of Residency</h3>
              <p class="card-description">
                Proof of residence in Barangay Labangon for government transactions and applications.
              </p>
              <div class="card-footer">
                <span class="card-price">â‚±30.00</span>
                <div class="card-arrow">
                  <svg width="16" height="16" fill="none" stroke="#10b981" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Certificate of Indigency -->
            <div class="certificate-card" onclick="window.location.href='{% url 'accounts:brgy_indigency_cert' %}'">
              <div class="card-icon">
                <img src="{% static 'icons/file-report.png' %}" alt="Certificate" />
              </div>
              <h3 class="card-title">Certificate of Indigency</h3>
              <p class="card-description">
                For residents requiring financial assistance or applying for free medical services.
              </p>
              <div class="card-footer">
                <span class="card-price">â‚±20.00</span>
                <div class="card-arrow">
                  <svg width="16" height="16" fill="none" stroke="#10b981" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Good Moral Character -->
            <div class="certificate-card" onclick="window.location.href='{% url 'accounts:brgy_goodmoral_character' %}'">
              <div class="card-icon">
                <img src="{% static 'icons/user-info.png' %}" alt="Certificate" />
              </div>
              <h3 class="card-title">Good Moral Character</h3>
              <p class="card-description">
                Required for school applications, employment, and character reference purposes.
              </p>
              <div class="card-footer">
                <span class="card-price">â‚±40.00</span>
                <div class="card-arrow">
                  <svg width="16" height="16" fill="none" stroke="#10b981" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Business Clearance -->
            <div class="certificate-card" onclick="window.location.href='{% url 'accounts:brgy_business_cert' %}'">
              <div class="card-icon">
                <img src="{% static 'icons/file-report.png' %}" alt="Certificate" />
              </div>
              <h3 class="card-title">Business Clearance</h3>
              <p class="card-description">
                Required for starting or renewing a business within Barangay Labangon.
              </p>
              <div class="card-footer">
                <span class="card-price">â‚±100.00</span>
                <div class="card-arrow">
                  <svg width="16" height="16" fill="none" stroke="#10b981" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>
          </div>

          <!-- General Requirements -->
          <div class="requirements-section">
            <h2>General Requirements</h2>
            <ul class="requirements-list">
              <li>Valid government-issued ID</li>
              <li>Proof of residency in Barangay Labangon</li>
              <li>Completed and verified user profile</li>
              <li>Payment for processing fees (if applicable)</li>
              <li>Additional documents may be required depending on certificate type</li>
            </ul>
          </div>
        </div>
      </main>
    </div>
    <script src="{% static 'js/dashboard.js' %}"></script>
  </body>
</html>